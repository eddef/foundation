{% extends "base_donations.html" %}

{% load staticfiles %}

{% block content %}

<div ng-app="appDonations">
  <div ng-view></div>
</div>

{% endblock %}

{% block app-scripts %}

<script type="text/javascript">

var app = angular.module('appDonations', []).
  config(['$routeProvider', function($routeProvider, urls) {
    $routeProvider.
      when('/', {templateUrl: '{% static 'donations/partials/organization_list.html' %}', controller: OrgListCtrl}).
      when('/detail/:orgId', {templateUrl: '{% static 'donations/partials/organization_detail.html' %}', controller: OrgDetailCtrl}).
      otherwise({redirectTo: '/'});
  }]);

var user_id = '{{ user.id }}';
var user_authenticated = '{{ user.is_authenticated }}';

</script>

<!-- <script src="{% static 'donations/js/app.js' %}"></script> -->
<script src="{% static 'donations/js/controllers.js' %}"></script>
{% endblock %}
